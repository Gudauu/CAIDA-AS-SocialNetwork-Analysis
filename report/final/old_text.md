commit ad4ee645598ee6edf7aa1e1648d1f7108e290e30	ad4ee645598ee6edf7aa1e1648d1f7108e290e30
Author: Gudauu <gudautd@gmail.com>
Date:   Wed May 10 18:11:17 2023 +0800

    finished 5.1 intro to dataset

diff --git a/report/final/text.md b/report/final/text.md
index 9de2552..116ec10 100644
--- a/report/final/text.md
+++ b/report/final/text.md
@@ -16,9 +16,25 @@
 ## 四 背景
 互联网由成千上万个互联网服务提供商(ISP)组成。这些运营商拥有和控制自己名下的自治系统，构成BGP中的基础单位。ISP间存在沟通交流，以便协同和普遍地路由互联网流量，而这种沟通交流最终通常以商业协议的形式展现在网络中。这些商业协议的出发点可能来自利益链、政治因素等等，落实在协议内容中则成为网络中人为引入的路由规则。正因这类政策的存在，自治系统间的网络路由才变得复杂，不定，和难以预测。
 研究自治系统间的关系，对BGP协议，对互联网的发展，都有重要意义。通过对它的研究，我们可以找到现有路由机制的弊端从而优化网络路径;我们可以通过评估自治系统关系对网络基础设施的影响，来构建更有扩展性的互联网增长模型架构;也可以通过它对现有同行和上游服务商的表现进行评估，从而帮助服务商进行选择。
-然而，出于隐私，商业机密等等考虑，直接研究自治系统被证明是非常困难的，因为迄今为止并没有服务商或第三方机构提供公开透明的自治系统协议数据。这些数据只有参与协议运营商知晓。因此，在无法直接获得自治系统数据的情况下，研究者转而选择使用可以公开收集到的BGP路由数据，用算法处理后得到计算出的自治系统贸易数据。关于这类算法的研究最早
+然而，出于隐私，商业机密等等考虑，直接研究自治系统被证明是非常困难的，因为迄今为止并没有服务商或第三方机构提供公开透明的自治系统协议数据。这些数据只有参与协议运营商知晓。因此，在无法直接获得自治系统数据的情况下，研究者转而选择使用可以公开收集到的BGP路由数据，用算法处理后得到计算出的自治系统贸易数据。
+关于这类推导算法的研究最早由L.Gao在<On Inferring Autonomous System Relationships in the Internet>中阐述。在她的研究中，将ISP间（也即自治系统间）的商业关系分为三类：顾客-提供商型c2p(customer-to-provider)，同行型p2p(peer-to-peer)和同辈型s2s(sibling-to-sibling)。这种分类的依据在于自治系统间需要通过购买或商业协定来借助其他自治系统进行网络包传输。在顾客-提供商型中，这种关系的箭头方向标志着资金流动的方向：处于低位的顾客自治系统向处于高位的提供商自治系统付费，以换取提供商自治系统使用其资源帮助自己传输数据包。同行型协议中的双方达成协议，互相帮助对方传输对方本身及其顾客的数据包，以节省服务购买的开销。同辈型关系中的自治系统往往隶属于同一管辖域（如同个ISP），这类关系通常象征着自治系统团体的合并、收购。Gao设计算法的根据思想在于，对于一条有效的自治系统贸易链条，每一跳中的中转节点（即帮助其他自治系统进行数据传输的自治系统）都应在本条链条中存在相邻节点对其服务付费。而若遵守这一思想，则所有合理的链条路径必然遵守如下模式：零到多个顾客-提供商型边，紧接着零到多个同行型边，紧接着零到多个提供商-顾客型边。同辈型边可以在任意位置出现，因为这种边相当于内部路径，不代表贸易关系。如果将顾客看作低位节点，而提供商看作高位节点，则这样的模式路径将是一条爬坡后下降的峰值曲线，爬升只有一次，一旦下降后不能再次爬升。而根据自治系统网络的经验规律，在这条峰值曲线顶端的节点，往往是本条链路中度数(degree)最大的节点。因此，对于一条BGP路由链路，我们就可以通过先剥取顶峰节点，来逐个推断出其余节点的贸易关系。
+自gao的研究后，后续涌现出多位相似研究。Subramanian等人继承了上述有效路径判定方法，但将AS关系推断问题制定为组合优化问题：给定从一组BGP路径P导出的无向图G，为G中的每条边分配边类型（c2p或p2p），使P中有效路径的总数最大化。该问题被称为关系类型（ToR）问题，且后被Di Battista等人和Erlebach等人独立地证明为NP完全问题。在本篇论文中，使用的数据集使用的推演算法类似于<AS Relationships, Customer Cones, and Validation>中的研究，它亦是对Gao工作的继承，使用一组事先设定的条件进行边关系的推演。
+每个自治系统有一个唯一的数字编号，称为自治系统编号(ASN)。自治系统编号 由 The Internet Assigned Numbers Authority (IANA)统一管理。当ISP申请新自治系统编号时，将经由IANA获批得到一个数字。值得注意的是，该数字编号存在被重复利用的可能性。若一个ISP决定抛弃自己旗下的自治系统，那么IANA将回收这一自治系统编号，并可能在新的ISP申请时重新发放这个数字。因此，当进行自治系统编号与自治系统信息匹配时，需要充分考虑编号替换的可能性。
+
 
 ## 五 实验
+### 5.1 数据集
+贡献本文所使用的数据的机构为Center for Applied Internet Data Analysis (CAIDA)。CAIDA成立于1997年，是加州大学圣地亚哥分校超级计算机中心所下属的计算机网络数据科研中心，主持分享许多与计算机网络协议有关的大数据集。这些数据集均为公开<>。其中，本篇论文所用数据集为"Inferred AS Relationships Dataset"<https://publicdata.caida.org/datasets/as-relationships/>，它是一个由BGP路由数据推理出的自治系统关系数据集，关于推理算法的介绍见"四 背景"部份。CAIDA所共享的数据自1998年开始，每月一份，最新的数据收集于2023年5月，即本文写成时。数据名开头为年份月份，结尾均为"01"，如"20230501"等。以下均用上述编号来表示对应的数据。每份数据文件格式一致，各行为以自治系统编号表示的顾客-提供商型边和同行型边，最小的有5772行（19980101），最大的有380544行（20230101）。本文使用的数据主要为2000至2023年每年1月的数据。
+除了上述主要数据集外，匹配自治系统编号和自治系统信息的数据来自于<https://bgp.potaroo.net/cidr/autnums.html>，它将每个自治系统编号对应至当前所属ISP，国家（或地区）。本文所使用的匹配信息拉取于2023年2月28号。
+如前所述，自治系统编号存在重复利用的可能性。匹配数据仅提供最新数据，而CAIDA的数据则截录了几十年来的历史数据。因此，我们目前将自治系统编号所匹配上的自治系统信息未必是正确的。为了避免受该问题影响，本文涉及自治系统国别和运营商信息的分析中使用的自治系统均只选择在研究期限内持续存在的编号。若某编号在每次数据中不存在，则将其排除不进行进一步分析。但在统计数据总量等与自治系统运营信息无关的研究时，编号仍然会被考虑。
+
+### 5.2 实验环境（机器，编程语言，画图语言）
+
+### 5.3 数据总览
+### 5.4 宏观网络演变分析
+### 5.5 自治系统层级的实例分析
+### 5.6 以国家为单位的聚合分析
+### 5.7 新冠疫情的影响分析及启示
 ## 六 结论
 ## 七 参考
 
